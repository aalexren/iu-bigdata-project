\c project;

CREATE TABLE IF NOT EXISTS application_data (
    SK_ID_CURR BIGINT PRIMARY KEY,
    TARGET BIGINT,
    NAME_CONTRACT_TYPE TEXT,
    CODE_GENDER TEXT,
    FLAG_OWN_CAR TEXT,
    FLAG_OWN_REALTY TEXT,
    CNT_CHILDREN BIGINT,
    AMT_INCOME_TOTAL REAL,
    AMT_CREDIT REAL,
    AMT_ANNUITY REAL,
    AMT_GOODS_PRICE REAL,
    NAME_TYPE_SUITE TEXT,
    NAME_INCOME_TYPE TEXT,
    NAME_EDUCATION_TYPE TEXT,
    NAME_FAMILY_STATUS TEXT,
    NAME_HOUSING_TYPE TEXT,
    REGION_POPULATION_RELATIVE REAL,
    DAYS_BIRTH BIGINT,
    DAYS_EMPLOYED BIGINT,
    DAYS_REGISTRATION REAL,
    DAYS_ID_PUBLISH BIGINT,
    OWN_CAR_AGE REAL,
    FLAG_MOBIL BIGINT,
    FLAG_EMP_PHONE BIGINT,
    FLAG_WORK_PHONE BIGINT,
    FLAG_CONT_MOBILE BIGINT,
    FLAG_PHONE BIGINT,
    FLAG_EMAIL BIGINT,
    OCCUPATION_TYPE TEXT,
    CNT_FAM_MEMBERS REAL,
    REGION_RATING_CLIENT BIGINT,
    REGION_RATING_CLIENT_W_CITY BIGINT,
    WEEKDAY_APPR_PROCESS_START TEXT,
    HOUR_APPR_PROCESS_START BIGINT,
    REG_REGION_NOT_LIVE_REGION BIGINT,
    REG_REGION_NOT_WORK_REGION BIGINT,
    LIVE_REGION_NOT_WORK_REGION BIGINT,
    REG_CITY_NOT_LIVE_CITY BIGINT,
    REG_CITY_NOT_WORK_CITY BIGINT,
    LIVE_CITY_NOT_WORK_CITY BIGINT,
    ORGANIZATION_TYPE TEXT,
    EXT_SOURCE_1 REAL,
    EXT_SOURCE_2 REAL,
    EXT_SOURCE_3 REAL,
    APARTMENTS_AVG REAL,
    BASEMENTAREA_AVG REAL,
    YEARS_BEGINEXPLUATATION_AVG REAL,
    YEARS_BUILD_AVG REAL,
    COMMONAREA_AVG REAL,
    ELEVATORS_AVG REAL,
    ENTRANCES_AVG REAL,
    FLOORSMAX_AVG REAL,
    FLOORSMIN_AVG REAL,
    LANDAREA_AVG REAL,
    LIVINGAPARTMENTS_AVG REAL,
    LIVINGAREA_AVG REAL,
    NONLIVINGAPARTMENTS_AVG REAL,
    NONLIVINGAREA_AVG REAL,
    APARTMENTS_MODE REAL,
    BASEMENTAREA_MODE REAL,
    YEARS_BEGINEXPLUATATION_MODE REAL,
    YEARS_BUILD_MODE REAL,
    COMMONAREA_MODE REAL,
    ELEVATORS_MODE REAL,
    ENTRANCES_MODE REAL,
    FLOORSMAX_MODE REAL,
    FLOORSMIN_MODE REAL,
    LANDAREA_MODE REAL,
    LIVINGAPARTMENTS_MODE REAL,
    LIVINGAREA_MODE REAL,
    NONLIVINGAPARTMENTS_MODE REAL,
    NONLIVINGAREA_MODE REAL,
    APARTMENTS_MEDI REAL,
    BASEMENTAREA_MEDI REAL,
    YEARS_BEGINEXPLUATATION_MEDI REAL,
    YEARS_BUILD_MEDI REAL,
    COMMONAREA_MEDI REAL,
    ELEVATORS_MEDI REAL,
    ENTRANCES_MEDI REAL,
    FLOORSMAX_MEDI REAL,
    FLOORSMIN_MEDI REAL,
    LANDAREA_MEDI REAL,
    LIVINGAPARTMENTS_MEDI REAL,
    LIVINGAREA_MEDI REAL,
    NONLIVINGAPARTMENTS_MEDI REAL,
    NONLIVINGAREA_MEDI REAL,
    FONDKAPREMONT_MODE TEXT,
    HOUSETYPE_MODE TEXT,
    TOTALAREA_MODE REAL,
    WALLSMATERIAL_MODE TEXT,
    EMERGENCYSTATE_MODE TEXT,
    OBS_30_CNT_SOCIAL_CIRCLE REAL,
    DEF_30_CNT_SOCIAL_CIRCLE REAL,
    OBS_60_CNT_SOCIAL_CIRCLE REAL,
    DEF_60_CNT_SOCIAL_CIRCLE REAL,
    DAYS_LAST_PHONE_CHANGE REAL,
    FLAG_DOCUMENT_2 BIGINT,
    FLAG_DOCUMENT_3 BIGINT,
    FLAG_DOCUMENT_4 BIGINT,
    FLAG_DOCUMENT_5 BIGINT,
    FLAG_DOCUMENT_6 BIGINT,
    FLAG_DOCUMENT_7 BIGINT,
    FLAG_DOCUMENT_8 BIGINT,
    FLAG_DOCUMENT_9 BIGINT,
    FLAG_DOCUMENT_10 BIGINT,
    FLAG_DOCUMENT_11 BIGINT,
    FLAG_DOCUMENT_12 BIGINT,
    FLAG_DOCUMENT_13 BIGINT,
    FLAG_DOCUMENT_14 BIGINT,
    FLAG_DOCUMENT_15 BIGINT,
    FLAG_DOCUMENT_16 BIGINT,
    FLAG_DOCUMENT_17 BIGINT,
    FLAG_DOCUMENT_18 BIGINT,
    FLAG_DOCUMENT_19 BIGINT,
    FLAG_DOCUMENT_20 BIGINT,
    FLAG_DOCUMENT_21 BIGINT,
    AMT_REQ_CREDIT_BUREAU_HOUR REAL,
    AMT_REQ_CREDIT_BUREAU_DAY REAL,
    AMT_REQ_CREDIT_BUREAU_WEEK REAL,
    AMT_REQ_CREDIT_BUREAU_MON REAL,
    AMT_REQ_CREDIT_BUREAU_QRT REAL,
    AMT_REQ_CREDIT_BUREAU_YEAR REAL
);

CREATE TABLE IF NOT EXISTS previous_application (
    SK_ID_PREV BIGINT,
    SK_ID_CURR BIGINT,
    NAME_CONTRACT_TYPE TEXT,
    AMT_ANNUITY REAL,
    AMT_APPLICATION REAL,
    AMT_CREDIT REAL,
    AMT_DOWN_PAYMENT REAL,
    AMT_GOODS_PRICE REAL,
    WEEKDAY_APPR_PROCESS_START TEXT,
    HOUR_APPR_PROCESS_START BIGINT,
    FLAG_LAST_APPL_PER_CONTRACT TEXT,
    NFLAG_LAST_APPL_IN_DAY BIGINT,
    RATE_DOWN_PAYMENT REAL,
    RATE_INTEREST_PRIMARY REAL,
    RATE_INTEREST_PRIVILEGED REAL,
    NAME_CASH_LOAN_PURPOSE TEXT,
    NAME_CONTRACT_STATUS TEXT,
    DAYS_DECISION BIGINT,
    NAME_PAYMENT_TYPE TEXT,
    CODE_REJECT_REASON TEXT,
    NAME_TYPE_SUITE TEXT,
    NAME_CLIENT_TYPE TEXT,
    NAME_GOODS_CATEGORY TEXT,
    NAME_PORTFOLIO TEXT,
    NAME_PRODUCT_TYPE TEXT,
    CHANNEL_TYPE TEXT,
    SELLERPLACE_AREA BIGINT,
    NAME_SELLER_INDUSTRY TEXT,
    CNT_PAYMENT REAL,
    NAME_YIELD_GROUP TEXT,
    PRODUCT_COMBINATION TEXT,
    DAYS_FIRST_DRAWING REAL,
    DAYS_FIRST_DUE REAL,
    DAYS_LAST_DUE_1ST_VERSION REAL,
    DAYS_LAST_DUE REAL,
    DAYS_TERMINATION REAL,
    NFLAG_INSURED_ON_APPROVAL REAL
);

-- ALTER TABLE previous_application
-- ADD CONSTRAINT fk_prev_app_data
-- FOREIGN KEY (SK_ID_CURR) REFERENCES application_data (SK_ID_CURR);
